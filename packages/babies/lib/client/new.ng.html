<ion-view view-title="添加宝宝" >
    <ion-nav-title>{{title}}</ion-nav-title>

    <ion-content noinvalidate class="has-header">
        <form name="newBabyForm"  ng-submit="newBaby(baby)">
            <ul class="list" >
                <label class="item item-input ">
                    <span class="input-label">名字</span>
                    <input type="text" name="babyname" placeholder="张三" ng-model="baby.name"
                           ng-minlength="2" ng-maxlength="16" >
                </label>
                <div  ng-messages="newBabyForm.babyname.$error" class="error-container"
                      ng-if="newBabyForm.babyname.$touched">

                    <div ng-message="'minlength', 'maxlength'" class="error">
                        <i class="ion-information-circled"></i>
                        名字必须在４～１６个字符之间
                    </div>
                    <!--<ng-messages-include src="errors-messages"> </ng-messages-include>-->
                </div>

                <label class="item item-input">
                    <span class="input-label">昵称/小名</span>
                    <input type="text" name="" placeholder="阿宝" ng-model="baby.nickname">
                </label>



                <li class="item item-checkbox">
                    <label class="checkbox">
                        <input type="checkbox" value="true" ng-model="baby.born">
                    </label>
                    <span class="balanced" ng-if="baby.born">已出生</span>
                    <span class="assertive" ng-if="!baby.born">未出生</span>
                </li>

                <div ng-if="!baby.born">
                    <label class="item item-input">
                        <div class="input-label">受孕日期</div>
                        <input type="date" name="conceptionDate" ng-model="baby.conceptionDate" min="2005-01-01"
                               placeholder="yyyy-MM-dd" max="{{dateBeforeNow}}" required>
                    </label>
                    <div  ng-messages="newBabyForm.conceptionDate.$error" class="error-container"
                          ng-if="newBabyForm.conceptionDate.$touched">

                        <div ng-message="required" class="error">
                            <i class="ion-information-circled"></i>
                            请提供受孕日期
                        </div>
                        <div ng-message="datetimelocal" class="error">
                            <i class="ion-information-circled"></i>
                            请提供有效受孕日期
                        </div>

                        <!--<ng-messages-include src="errors-messages"> </ng-messages-include>-->
                    </div>
                </div>
                <div ng-if="baby.born">
                    <div class="item item-divider">出生信息</div>
                    <label class="item item-input">
                        <div class="input-label">出生时间</div>
                        <input type="datetime-local" name="birthtime" ng-model="baby.birthTime" min="2005-01-01T00:00:00"
                               placeholder="yyyy-MM-ddTHH:mm:ss" max="{{beforeNow}}" required>
                    </label>
                    <div  ng-messages="newBabyForm.birthtime.$error" class="error-container"
                          ng-if="newBabyForm.birthtime.$touched">

                        <div ng-message="required" class="error">
                            <i class="ion-information-circled"></i>
                            请提供出生时间
                        </div>
                        <div ng-message="datetimelocal" class="error">
                            <i class="ion-information-circled"></i>
                            请提供有效出生时间
                        </div>

                        <!--<ng-messages-include src="errors-messages"> </ng-messages-include>-->
                    </div>

                    <label class="item item-input item-select">
                        <div class="input-label">
                            性别
                        </div>
                        <select class="assertive" name="gender" placeholder="请选择性别" ng-model="baby.gender" required>
                            <option  selected>--请选择性别--</option>
                            <option >男</option>
                            <option>女</option>
                        </select>
                    </label>
                    <div  ng-messages="newBabyForm.gender.$error" class="error-container" ng-if="newBabyForm.gender.$touched">

                        <div ng-message="required" class="error">
                            <i class="ion-information-circled"></i>
                            请选择宝宝性别
                        </div>
                        <!--<ng-messages-include src="errors-messages"> </ng-messages-include>-->
                    </div>

                    <label class="item item-input">
                        <span class="input-label">出生体重(克)</span>
                        <input type="number" placeholder="单位克，例：2900" max="15000" ng-model="baby.birthWeight">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">出生身长(厘米)</span>
                        <input type="number" placeholder="单位厘米,例：49" max="100" ng-model="baby.birthHeight">
                    </label>
                </div>

            </ul>
            <div class="padding">
                <button id="nebabyButton" type="submit" ng-disabled="newBabyForm.$invalid" class="button button-full button-balanced ink">{{buttonName}}</button>
            </div>
            <div ng-messages="newbabyError">
                <div ng-message="newbaby" class="error">
                    <i class="ion-information-circled"></i>
                    {{newbabyErrorMessage}}
                </div>
            </div>
        </form>
    </ion-content>
</ion-view>